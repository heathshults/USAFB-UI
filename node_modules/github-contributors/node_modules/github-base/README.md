# github-base [![NPM version](https://badge.fury.io/js/github-base.svg)](http://badge.fury.io/js/github-base)  [![Build Status](https://travis-ci.org/jonschlinkert/github-base.svg)](https://travis-ci.org/jonschlinkert/github-base)

> Base methods for creating node.js apps that work with the GitHub API.

<!-- toc -->

* [Install](#install)
* [Usage](#usage)
* [Related](#related)
* [API](#api)
* [Running tests](#running-tests)
* [Why another "GitHub API" lib?](#why-another--github-api--lib-)
* [Contributing](#contributing)
* [Author](#author)
* [License](#license)

_(Table of contents generated by [verb](https://github.com/verbose/verb))_

<!-- tocstop -->

**Heads up!**

This lib was completely refactored in `v0.2.0`. Please see the [API documentation](#API) for more details.

**About**

This library provides the necessary methods for creating your own GitHub API library or more specific functionality built on top of these methods.

* [.request](#request): the base handler all of the GitHub API VERBS: `GET`, `PUT`, `POST`, `DELETE`, `PATCH`
* [.get](#get): proxy for `request('GET', path, data, cb)`
* [.getAll](#getAll): makes repeat `.get()` requests until the page of data has been retrieved.
* [.del](#del): proxy for `request('DEL', path, data, cb)`
* [.patch](#patch): proxy for `request('PATCH', path, data, cb)`
* [.post](#post): proxy for `request('POST', path, data, cb)`
* [.put](#put): proxy for `request('PUT', path, data, cb)`

## Install

Install with [npm](https://www.npmjs.com/)

```sh
$ npm i github-base --save
```

## Usage

```js
var GitHub = require('github-base');
var github = new GitHub({
  username: YOUR_USERNAME,
  password: YOUR_PASSWORD,
});

// or 
var github = new GitHub({
  token: YOUR_TOKEN
});
```

## Related

* [gists](https://www.npmjs.com/package/gists): Methods for working with the GitHub Gist API. Node.js/JavaScript | [homepage](https://github.com/jonschlinkert/gists)
* [github-config](https://www.npmjs.com/package/github-config): Easily store or get Github config data from `.gitconfig`. Useful when you want to store… [more](https://www.npmjs.com/package/github-config) | [homepage](https://github.com/tunnckocore/github-config)
* [github-contributors](https://www.npmjs.com/package/github-contributors): Generate a markdown or JSON list of contributors for a project using the GitHub API. | [homepage](https://github.com/jonschlinkert/github-contributors)

## API

### [GitHub](index.js#L22)

Create an instance of `GitHub` with the given options.

**Params**

* `options` **{Object}**

**Example**

```js
var GitHub = require('github-base');
var github = new GitHub(options);
```

### [.request](index.js#L55)

Uses [simple-get](https://github.com/feross/simple-get) to make a single request to the GitHub API, based on the provided settings. Supports any of the GitHub API VERBs:

* `GET`, `PUT`, `POST`, `DELETE`, `PATCH`

**Params**

* `method` **{String}**
* `url` **{String}**: GitHub API URL to use.
* `data` **{Options}**: Request options.
* `cb` **{Function}**

**Example**

```js
github.request('GET', '/user/orgs', function (err, res) {
  //=> array of orgs
});
```

### [.get](index.js#L88)

Makes a single `GET` request to the GitHub API based on the
provided settings.

**Params**

* `path` **{String}**: path to append to the GitHub API URL.
* `data` **{Options}**: Request options.
* `cb` **{Function}**

**Example**

```js
// get orgs for the authenticated user
github.get('/user/orgs', function (err, res) {
  //=> array of orgs
});

// get gists for the authenticated user
github.get('/gists', function (err, res) {
  //=> array of gists
});
```

### [.getAll](index.js#L105)

Performs a request using [simple-get](https://github.com/feross/simple-get), and then if necessary
requests additional paged content based on the response. Data from
all pages are concatenated together and buffered until the last
page of data has been retrieved.

**Params**

* `path` **{String}**: path to append to the GitHub API URL.
* `cb` **{Function}**

**Example**

```js
// get all repos for the authenticated user
var url = '/user/repos?type=all&per_page=1000&sort=updated';
github.getAll(url, function(err, res) {
  console.log(res);
});
```

### [.del](index.js#L129)

Makes a single `DELETE` request to the GitHub API based on the
provided settings.

**Params**

* `path` **{String}**: path to append to the GitHub API URL.
* `data` **{Options}**: Request options.
* `cb` **{Function}**

**Example**

```js
// un-follow someone
github.del('/user/following/someoneelse', function(err, res) {
  console.log(res);
});
```

### [.patch](index.js#L145)

Makes a single `PATCH` request to the GitHub API based on the
provided settings.

**Params**

* `path` **{String}**: path to append to the GitHub API URL.
* `data` **{Options}**: Request options.
* `cb` **{Function}**

**Example**

```js
// update a gist
var fs = require('fs');
var opts = {files: {'readme.md': { content: '# My Readme...' }}};
github.patch('/gists/bd139161a425896f35f8', opts, function(err, res) {
  console.log(err, res);
});
```

### [.post](index.js#L161)

Makes a single `POST` request to the GitHub API based on the
provided settings.

**Params**

* `path` **{String}**: path to append to the GitHub API URL.
* `data` **{Options}**: Request options.
* `cb` **{Function}**

**Example**

```js
// create a new repo
var opts = { name:  'new-repo-name' };
github.post('/user/repos', opts, function(err, res) {
  console.log(res);
});
```

### [.put](index.js#L177)

Makes a single `PUT` request to the GitHub API based on the
provided settings.

**Params**

* `path` **{String}**: path to append to the GitHub API URL.
* `data` **{Options}**: Request options.
* `cb` **{Function}**

**Example**

```js
// follow someone
github.put('/user/following/jonschlinkert', function(err, res) {
  console.log(res);
});
```

### [.extend](index.js#L206)

Convenience method for inheriting `GitHub`. Extends
prototype and static methods.

**Params**

* `Ctor` **{Object}**

**Example**

```js
var GitHub = require('github-base');
function MyApp() {
  GitHub.call(this);
}
GitHub.extend(MyApp);
```

## Running tests

Install dev dependencies:

```sh
$ npm i -d && npm test
```

## Why another "GitHub API" lib?

Every other GitHub API library I found either had a [huge dependency tree](https://github.com/sindresorhus/gh-got), tries to be [everything to everyone](https://github.com/michael/github/blob/master/package.json#L45-L56), was [too bloated with boilerplace code](https://github.com/mikedeboer/node-github/tree/master/templates), was too opinionated or not maintained.

## Contributing

Pull requests and stars are always welcome. For bugs and feature requests, [please create an issue](https://github.com/jonschlinkert/github-base/issues/new).

## Author

**Jon Schlinkert**

+ [github/jonschlinkert](https://github.com/jonschlinkert)
+ [twitter/jonschlinkert](http://twitter.com/jonschlinkert)

## License

Copyright © 2015 Jon Schlinkert
Released under the MIT license.

***

_This file was generated by [verb-cli](https://github.com/assemble/verb-cli) on September 14, 2015._
