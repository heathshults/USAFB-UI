<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>User Management - USA Football</title>
  <meta name="description" content="">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Add to homescreen for Safari on iOS -->
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="apple-mobile-web-app-title" content="Web Starter Kit">
  <link rel="apple-touch-icon" href="./images/fav/apple-touch-icon.png">
  <link rel="shortcut icon" href="./images/fav/favicon.ico">
  <link rel="stylesheet" href="./css/vendor/font-awesome-4.7.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="./js/vendor/bootstrap-table/1.11.1/bootstrap-table.css">
  <link rel="stylesheet" href="./css/usafb-bootstrap.css">

</head>

<body>
  <!--[if lt IE 8]>
        <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
    <![endif]-->

  <!-- Add your site or application content here -->
  <div class="container-fluid axis p-0">
    <!-- header -->
    <header id="site-header" class="header-container">
      <div class="container">
        <div class="row">
          <div class="col-md-3 brand-container d-flex align-items-center">
            <a href="sign-in.html">
              <img src="images/logos/usafb-datacenter-logo.png" alt="Blue Star Sports" class="brand-logo img-fluid" />
            </a>
          </div>
          <div class="col nav-container">
            <!-- nav -->
            <nav class="navbar navbar-expand-lg">
              <div class="col text-right pr-0">
                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target=".navbarToggler01" aria-controls="navbarToggler01"
                  aria-expanded="false" aria-label="Toggle navigation">
                  <i class="fa fa-navicon" aria-hidden="true"></i> Menu</button>
              </div>
              <div class="navbarToggler01 collapse navbar-collapse" id="navbarToggler01">
                <ul class="navbar-nav mr-auto mt-2 mt-lg-0 ml-auto">
                  <li class="nav-item">
                    <a class="nav-link" href="./dashboard.html">Home</a>
                  </li>
                  <span class="nav-item-separator"></span>
                  <li class="nav-item">
                    <a class="nav-link" href="./players-list.html">Players</a>
                  </li>
                  <span class="nav-item-separator"></span>
                  <li class="nav-item">
                    <a class="nav-link" href="./coaches-list.html">Coaches</a>
                  </li>
                  <span class="nav-item-separator"></span>
                  <li class="nav-item">
                    <a class="nav-link" href="./dashboard01.html">Dashboard</a>
                  </li>
                </ul>
                <div class="navbar-nav my-account d-flex">
                  <div class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="account-dropdown" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                      <img src="./content/users/avatar/user-01.jpg" alt="@HeathShults" class="user-avatar rounded-circle" /> @HeathShults </a>
                    <div class="dropdown-menu">
                      <div class="dropdown-divider"></div>
                      <a class="nav-link dropdown-item" href="#">My Profile</a>
                      <a class="nav-link dropdown-item" href="./users-manage.html">Manage Users</a>
                      <a class="nav-link dropdown-item" href="#">Help / FAQ</a>
                      <div class="dropdown-divider"></div>
                      <a class="nav-link dropdown-item" href="#">Sign Out</a>
                    </div>
                  </div>
                </div>
              </div>
            </nav>
            <!-- /nav -->
          </div>
        </div>
      </div>


    </header>
    <div class="header-content-divider"></div>
    <!-- end header -->
    <!-- main content area -->
    <section id="main-content">
      <div class="container">
        <div class="row">
          <div class="container d-flex">
            <div class="col-12 h-100 pt-3">
              <div class="row align-items-center">
                <div class="col-3 page-title-container align-content-stretch">
                  <h1 class="page-title pt-2">
                    <i class="fa fa-user" aria-hidden="true"></i> Manage Users</h1>
                </div>
                <div class="col-4 alertPane">
                  <!-- message from interactions with the users grid -->
                  <div id='mbx' class="alert alert-success alert-dismissible fade" role="alert">
                    <button id="alert-close" type="button" class="close">
                      <span class="">Dismiss</span>
                      <!-- <span>&times</span> -->
                    </button>
                    <label id="mbxLbl" class="mt-2"></label>

                  </div>
                  <!-- /message from interactions with the users grid -->
                </div>
                <div class="col-5 pr-1">
                  <div class="d-flex">
                    <div class="input-group p-0">
                      <input type="text" id="userSearch" class="form-control width-control-59" placeholder="Search for..." aria-label="Search for...">
                      <span class="input-group-btn">
                        <button class="btn btn-primary-02 h-100 mr-1" type="button">
                          <i class="fa fa-search" aria-hidden="true"></i>
                        </button>
                      </span>
                    </div>
                    <div class="h-100 pr-0 mr-2">
                      <a href="users-add.html" class="btn btn-primary-02" data-toggle="modal" data-target="#create-u">
                        <i class="fa fa-user" aria-hidden="true"></i> Create New</a>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-12">

            <div id="cFadeIn" class="contianer">
              <!-- style="display:none" -->
              <form>
                <div class="usafb-tbl-grid">
                  <div class="row">
                    <div class="col-md-12">
                      <div id="data-div">
                        <div id="toolbar">
                        </div>
                        <table id="table" 
                          data-toolbar="#toolbar" 
                          data-search="true" 
                          data-trim-On-Search="true" 
                          data-show-refresh="true" 
                          data-show-toggle="true" 
                          data-toggle="table" 
                          data-show-export="true"
                          data-show-pagination-switch="true" 
                          data-pagination="true" 
                          data-id-field="id"
                          data-page-list="[10, 25, 50, 100, ALL]" 
                          data-show-footer="true" 
                          data-side-pagination="server" 
                          data-url="./js/json/userdata2.json"
                          data-response-handler="responseHandler"
                          class="table table-responsive table-striped table-hover">
                          <thead class="cpl">
                            <tr>
                              <th data-field="id">id</th>
                              <th data-field="full-name" data-sortable="true" data-sorter="htmlSorter">Name</th>
                              <th data-field="status" data-sortable="true" data-sorter="htmlSorter">Status</th>
                              <th data-field="role" data-sortable="true" data-sorter="htmlSorter">Role</th>
                              <th data-field="createdate" data-sortable="true" class="text-center">Create Date</th>
                              <th data-field="phone" data-sortable="true" class="text-center">Phone</th>
                              <th data-field="location" data-sortable="true" data-sorter="htmlSorter">Location</th>
                              <th data-field="organization" data-sortable="true" data-sorter="htmlSorter">Organization</th>
                              <th data-field="actions" data-events="operateEvents" data-formatter="operateFormatter" class="text-center">Actions</th>
                            </tr>
                          </thead>
                          <tbody>
                            <tr>
                              <td></td>
                              <td></td>
                              <td></td>
                              <td></td>
                              <td></td>
                              <td></td>
                              <td></td>
                              <td></td>
                              <td></td>
                            </tr>
                          </tbody>
                        </table>
                        <!-- data-minimum-count-columns="2"  -->
                        <!-- ./js/json/userdata2.json -->
                      </div>
                    </div>
                  </div>
                </div>
              </form>
            </div>
          </div>
        </div>
      </div>
    </section>
    <!-- end main content -->
    <!-- footer -->
    <footer id="footer-01">
      <div class="row">
        <div class="col-md-4"></div>
        <div class="col-md-4"></div>
        <div class="col-md-4"></div>
      </div>
    </footer>
  </div>
  <!-- Modal -->
  <div class="modal fade" id="create-u" tabindex="-1" role="dialog" aria-labelledby="#modal-title-l" aria-hidden="true">
    <form>
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h3 class="modal-title" id="modal-title-l">
              <i class="fa fa-user" aria-hidden="true"></i> Create New User</h3>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times</span>
            </button>
          </div>
          <div class="modal-body">

            <div class="contianer w-80 ml-auto mr-auto mb-0">

              <div class="form-group">

                <div class="row">
                  <div class="col-md-6 input-group">
                    <label for="txtRName" class="sr-only">First Name</label>
                    <span class="input-group-addon">
                      <i class="fa fa-user-o"></i>
                    </span>
                    <input type="text" class="form-control" id="txtFirstName" placeholder="First Name">
                  </div>
                  <div class="col-md-6 input-group">
                    <label for="txtLName" class="sr-only">Last Name</label>
                    <span class="input-group-addon">
                      <i class="fa fa-user-o"></i>
                    </span>
                    <input type="text" class="form-control" id="txtLName" placeholder="Last Name">
                  </div>
                </div>

                <div class="row">
                  <div class="col-md-12 input-group">
                    <label for="txtEmail" class="sr-only">Email</label>
                    <span class="input-group-addon">@</span>
                    <input type="text" class="form-control" id="txtEmail" placeholder="Email">
                  </div>
                </div>
                <div class="row">
                  <div class="col-md-6 input-group">
                    <label for="ddRole" class="sr-only">Role</label>
                    <span class="input-group-addon">
                      <i class="fa fa-users"></i>
                    </span>
                    <select class="form-control" id="ddtRole">
                      <option selected disabled>Role</option>
                      <option value="Administrator">Administrator</option>
                      <option value="Supervisor">Supervisor</option>
                      <option value="Staff">Staff</option>
                    </select>
                  </div>
                  <div class="col-md-6 input-group">
                    <label for="txtPhone" class="sr-only">Phone</label>
                    <span class="input-group-addon">
                      <i class="fa fa-mobile-phone"></i>
                    </span>
                    <input type="tel" class="form-control" id="txtPhone" placeholder="Phone">
                  </div>
                  <div class="col-md-12 input-group">
                    <label for="txtOrg" class="sr-only">Organizatiuon</label>
                    <span class="input-group-addon">
                      <i class="fa fa-building"></i>
                    </span>
                    <input type="text" class="form-control" id="txtOrg" placeholder="Organization">
                  </div>

                </div>
                <div class="row">
                  <div class="col-md-12 input-group">
                    <label for="inputAddress" class="sr-only">Address</label>
                    <span class="input-group-addon">
                      <i class="fa fa-home"></i>
                    </span>
                    <input type="text" class="form-control" id="inputAddress" placeholder="1234 Main St">
                  </div>
                  <div class="col-md-12 input-group">
                    <label for="inputAddress2" class="sr-only">Address 2</label>
                    <span class="input-group-addon">
                      <i class="fa fa-home"></i>
                    </span>
                    <input type="text" class="form-control" id="inputAddress2" placeholder="Apartment, studio, or floor">
                  </div>
                </div>
                <div class="row">
                  <div class="col-md-4 input-group">
                    <label for="inputCity" class="sr-only">City</label>
                    <span class="input-group-addon">
                      <i class="fa fa-map"></i>
                    </span>
                    <input type="text" class="form-control" id="txtCity" placeholder="City">
                  </div>
                  <div class="col-md-4 input-group">
                    <label for="inputState" class="sr-only">State</label>
                    <span class="input-group-addon">
                      <i class="fa fa-map"></i>
                    </span>
                    <select id="ddState" class="form-control">
                      <option selected disabled>State</option>
                      <option value="AL">Alabama</option>
                      <option value="AK">Alaska</option>
                      <option value="AZ">Arizona</option>
                      <option value="AR">Arkansas</option>
                      <option value="CA">California</option>
                      <option value="CO">Colorado</option>
                      <option value="CT">Connecticut</option>
                      <option value="DE">Delaware</option>
                      <option value="DC">District Of Columbia</option>
                      <option value="FL">Florida</option>
                      <option value="GA">Georgia</option>
                      <option value="HI">Hawaii</option>
                      <option value="ID">Idaho</option>
                      <option value="IL">Illinois</option>
                      <option value="IN">Indiana</option>
                      <option value="IA">Iowa</option>
                      <option value="KS">Kansas</option>
                      <option value="KY">Kentucky</option>
                      <option value="LA">Louisiana</option>
                      <option value="ME">Maine</option>
                      <option value="MD">Maryland</option>
                      <option value="MA">Massachusetts</option>
                      <option value="MI">Michigan</option>
                      <option value="MN">Minnesota</option>
                      <option value="MS">Mississippi</option>
                      <option value="MO">Missouri</option>
                      <option value="MT">Montana</option>
                      <option value="NE">Nebraska</option>
                      <option value="NV">Nevada</option>
                      <option value="NH">New Hampshire</option>
                      <option value="NJ">New Jersey</option>
                      <option value="NM">New Mexico</option>
                      <option value="NY">New York</option>
                      <option value="NC">North Carolina</option>
                      <option value="ND">North Dakota</option>
                      <option value="OH">Ohio</option>
                      <option value="OK">Oklahoma</option>
                      <option value="OR">Oregon</option>
                      <option value="PA">Pennsylvania</option>
                      <option value="RI">Rhode Island</option>
                      <option value="SC">South Carolina</option>
                      <option value="SD">South Dakota</option>
                      <option value="TN">Tennessee</option>
                      <option value="TX">Texas</option>
                      <option value="UT">Utah</option>
                      <option value="VT">Vermont</option>
                      <option value="VA">Virginia</option>
                      <option value="WA">Washington</option>
                      <option value="WV">West Virginia</option>
                      <option value="WI">Wisconsin</option>
                      <option value="WY">Wyoming</option>
                    </select>
                  </div>
                  <div class="col-md-4 input-group">
                    <label for="txtZip" class="sr-only">Zip</label>
                    <span class="input-group-addon">
                      <i class="fa fa-map-marker"></i>
                    </span>
                    <input type="" class="form-control" id="txtZip" placeholder="Postal Code">
                  </div>
                </div>
                <div class="row">
                  <div class="col-md-12 text-right">
                    <a href="#" class="btn btn-secondary" data-dismiss="modal">Close</a>
                    <a class="btn btn-primary" href="#" id="btnNewSave">Save</a>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="modal-footer">
            <span>
          </div>
        </div>
      </div>
    </form>
  </div>
  <!-- end add user modal  -->
  <!-- begin edit user modal -->
  <div class="modal fade" id="edit-u" tabindex="-1" role="dialog" aria-labelledby="#modal-title-l2" aria-hidden="true">
    <form>
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h3 class="modal-title" id="modal-title-l2">
              <i class="fa fa-user" aria-hidden="true"></i> Edit User</h3>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times</span>
            </button>
          </div>
          <div class="modal-body">

            <div class="contianer w-80 ml-auto mr-auto mb-0">

              <div class="form-group">
                <div class="row">
                  <div class="col-md-6 input-group">
                    <label for="txtfName" class="sr-only">First Name</label>
                    <span class="input-group-addon">
                      <i class="fa fa-user-o"></i>
                    </span>
                    <input type="text" class="form-control" id="txtfName" placeholder="First Name">
                  </div>
                  <div class="col-md-6 input-group">
                    <label for="txtLName" class="sr-only">Last Name</label>
                    <span class="input-group-addon">
                      <i class="fa fa-user-o"></i>
                    </span>
                    <input type="password" class="form-control" id="txtLName" placeholder="Last Name">
                  </div>
                </div>
                <div class="row">
                  <div class="col-md-12 input-group">
                    <label for="txtEmail" class="sr-only">Email</label>
                    <span class="input-group-addon">@</span>
                    <input type="text" class="form-control" id="txtEmail" placeholder="Email">
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-md-6 input-group">
                  <label for="ddRole" class="sr-only">Role</label>
                  <span class="input-group-addon">
                    <i class="fa fa-users"></i>
                  </span>
                  <select class="form-control" id="ddtRole">
                    <option selected disabled>Role</option>
                    <option value="Administrator">Administrator</option>
                    <option value="Supervisor">Supervisor</option>
                    <option value="Staff">Staff</option>
                  </select>
                </div>
                <div class="col-md-6 input-group">
                  <label for="txtPhone" class="sr-only">Phone</label>
                  <span class="input-group-addon">
                    <i class="fa fa-mobile-phone"></i>
                  </span>
                  <input type="tel" class="form-control" id="txtPhone" placeholder="Phone">
                </div>
              </div>
              <div class="row">
                <div class="col-md-12 input-group">
                  <label for="txtOrg" class="sr-only">Organizatiuon</label>
                  <span class="input-group-addon">
                    <i class="fa fa-building"></i>
                  </span>
                  <input type="text" class="form-control" id="txtOrg" placeholder="Organization">
                </div>
              </div>
              <div class="row">
                <div class="col-md-12 input-group">
                  <label for="inputAddress" class="sr-only">Address</label>
                  <span class="input-group-addon">
                    <i class="fa fa-home"></i>
                  </span>
                  <input type="text" class="form-control" id="inputAddress" placeholder="1234 Main St">
                </div>
              </div>
              <div class="row">
                <div class="col-md-12 input-group">
                  <label for="inputAddress2" class="sr-only">Address 2</label>
                  <span class="input-group-addon">
                    <i class="fa fa-home"></i>
                  </span>
                  <input type="text" class="form-control" id="inputAddress2" placeholder="Apartment, studio, or floor">
                </div>
              </div>
              <div class="row">
                <div class="col-md-4 input-group">
                  <label for="inputCity" class="sr-only">City</label>
                  <span class="input-group-addon">
                    <i class="fa fa-map"></i>
                  </span>
                  <input type="text" class="form-control" id="txtCity" placeholder="City">
                </div>
                <div class="col-md-4 input-group">
                  <label for="inputState" class="sr-only">State</label>
                  <span class="input-group-addon">
                    <i class="fa fa-map"></i>
                  </span>
                  <select id="ddState" class="form-control">
                    <option selected disabled>State</option>
                    <option value="AL">Alabama</option>
                    <option value="AK">Alaska</option>
                    <option value="AZ">Arizona</option>
                    <option value="AR">Arkansas</option>
                    <option value="CA">California</option>
                    <option value="CO">Colorado</option>
                    <option value="CT">Connecticut</option>
                    <option value="DE">Delaware</option>
                    <option value="DC">District Of Columbia</option>
                    <option value="FL">Florida</option>
                    <option value="GA">Georgia</option>
                    <option value="HI">Hawaii</option>
                    <option value="ID">Idaho</option>
                    <option value="IL">Illinois</option>
                    <option value="IN">Indiana</option>
                    <option value="IA">Iowa</option>
                    <option value="KS">Kansas</option>
                    <option value="KY">Kentucky</option>
                    <option value="LA">Louisiana</option>
                    <option value="ME">Maine</option>
                    <option value="MD">Maryland</option>
                    <option value="MA">Massachusetts</option>
                    <option value="MI">Michigan</option>
                    <option value="MN">Minnesota</option>
                    <option value="MS">Mississippi</option>
                    <option value="MO">Missouri</option>
                    <option value="MT">Montana</option>
                    <option value="NE">Nebraska</option>
                    <option value="NV">Nevada</option>
                    <option value="NH">New Hampshire</option>
                    <option value="NJ">New Jersey</option>
                    <option value="NM">New Mexico</option>
                    <option value="NY">New York</option>
                    <option value="NC">North Carolina</option>
                    <option value="ND">North Dakota</option>
                    <option value="OH">Ohio</option>
                    <option value="OK">Oklahoma</option>
                    <option value="OR">Oregon</option>
                    <option value="PA">Pennsylvania</option>
                    <option value="RI">Rhode Island</option>
                    <option value="SC">South Carolina</option>
                    <option value="SD">South Dakota</option>
                    <option value="TN">Tennessee</option>
                    <option value="TX">Texas</option>
                    <option value="UT">Utah</option>
                    <option value="VT">Vermont</option>
                    <option value="VA">Virginia</option>
                    <option value="WA">Washington</option>
                    <option value="WV">West Virginia</option>
                    <option value="WI">Wisconsin</option>
                    <option value="WY">Wyoming</option>
                  </select>
                </div>
                <div class="col-md-4 input-group">
                  <label for="txtZip" class="sr-only">Zip</label>
                  <span class="input-group-addon">
                    <i class="fa fa-map-marker"></i>
                  </span>
                  <input type="text" class="form-control" id="txtZip" placeholder="Postal Code">
                </div>
              </div>
              <div class="row">
                <div class="col-md-12 text-right">
                  <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                  <a id="btnEditSave" href="#" class="btn btn-primary">Save</a>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="modal-footer">
        </div>
      </div>
  </div>
  </form>
  </div>
  <!-- end edit user modal -->
  <!-- js goes below -->
  <script src="./js/vendor/jquery/jquery-3.2.1.min.js"></script>
  <script>
    window.jQuery || document.write('<script src="./js/vendor/jquery/jquery-1.12.0.min.js"><\/script>')

  </script>
  <script src="./js/vendor/popper.js"></script>
  <script src="./js/usafb-bootstrap.js"></script>
  <script src="./js/vendor/modernizr-2.8.3.min.js"></script>
  <!-- Page Loader -->
  <script src="./js/vendor/pace/v1.0.0/pace.min.js"></script>
  <!-- Bootstrap-table -->
  <!-- <script src="./js/vendor/bootstrap-table/1.11.1/bootstrap-table.js"></script> -->
  <!-- <script src="./js/vendor/bootstrap-table/1.11.1/bootstrap-table-zh-CN.min.js"></script> -->
  <script src="./js/bss.js"></script>
  <script>
    $(document).ready(function () {
      // add user modal and message box
      $('#btnNewSave').click(function () {
        $('#create-u').removeClass('show')
        $('#create-u').modal('hide')
        $('#mbxLbl').html("New user has been added!")
        $('#mbx').addClass('show')
        setTimeout(function () {
          $('#mbx').fadeOut()
          setTimeout(function () {
            $('#mbx').removeClass('show')
            $('#mbx').removeAttr('style')
          }, 1000)
        }, 5000)
      })

      // add user modal and message box
      $('#btnEditSave').click(function () {
        $('#edit-u').removeClass('show')
        $('#edit-u').modal('hide')
        $('#mbxLbl').html('User Updated successfully!')
        $('#mbx').addClass('show')
        setTimeout(function () {
          $('#mbx').fadeOut()
          setTimeout(function () {
            $('#mbx').removeClass('show')
            $('#mbx').removeAttr('style')
          }, 1000)
        }, 5000)
      })
      $('#alert-close').click(function () {
        $('#mbx').removeClass('show')
      })

    })
    $('#userSearch').keypress(function () {
      $('.search input[type="text"]').val($(this).val())
    })
    //HTMLSorter
    function htmlSorter(a, b) {
      var a = $(a).text()
      var b = $(b).text()
      if (a < b) return -1
      if (a > b) return 1
      return 0
    }
    ///////////////////////////

  </script>
  <script>
    var $table = $('#table'),
      $remove = $('#remove'),
      selections = []

    function initTable() {
      $table.bootstrapTable({
        height: getHeight(),
        columns: [
          {
            field: 'full-name',
            title: 'Name',
            sortable: true,
            sorter: 'htmlSorter'
          },
          {
            field: 'status',
            title: 'Status',
            sortable: true,
            align: 'center'
          },
          {
            field: 'role',
            title: 'Role',
            sortable: true,
            align: 'center'
          },
          {
            field: 'create-date',
            title: 'Create Date',
            sortable: true,
            align: 'center'
          },
          {
            field: 'phone',
            title: 'Phone',
            sortable: true,
            align: 'center'
          },
          {
            field: 'location',
            title: 'Location',
            sortable: true
          },
          {
            field: 'Organization',
            title: 'Organization',
            sortable: true
          },
          {
            field: 'actions',
            title: 'Actions',
            align: 'center',
            events: operateEvents,
            formatter: operateFormatter
          }
        ]
      })
      // sometimes footer render error.
      setTimeout(function () {
        $table.bootstrapTable('resetView')
      }, 200)
      $table.on('check.bs.table uncheck.bs.table ' +
        'check-all.bs.table uncheck-all.bs.table',
        function () {
          $remove.prop('disabled', !$table.bootstrapTable('getSelections').length)

          // save your data, here just save the current page
          selections = getIdSelections()
          // push or splice the selections if you want to save all data selections
        })
      $table.on('expand-row.bs.table', function (e, index, row, $detail) {
        if (index % 2 == 1) {
          $detail.html('Loading from ajax request...')
          $.get('LICENSE', function (res) {
            $detail.html(res.replace(/\n/g, '<br>'))
          })
        }
      })
      $table.on('all.bs.table', function (e, name, args) {
        console.log(name, args)
      })
      $remove.click(function () {
        var ids = getIdSelections()
        $table.bootstrapTable('remove', {
          field: 'id',
          values: ids
        })
        $remove.prop('disabled', true)
      })
      $(window).resize(function () {
        $table.bootstrapTable('resetView', {
          height: getHeight()
        })
      })
    }

    function getIdSelections() {
      return $.map($table.bootstrapTable('getSelections'), function (row) {
        return row.id
      })
    }

    function responseHandler(res) {
      $.each(res.rows, function (i, row) {
        row.state = $.inArray(row.id, selections) !== -1
      })
      return res
    }

    function detailFormatter(index, row) {
      var html = []
      $.each(row, function (key, value) {
        html.push('<p><b>' + key + ':</b> ' + value + '</p>')
      })
      return html.join('')
    }

    function operateFormatter(value, row, index) {
      return [
      '<a id="status-changer" href="javascript:(0)" class="status-disabled"><i class="fa fa-minus-square" aria-hidden="true"></i></a>',
      '<a id="' + row.id + '" href="users-profile.html?uid=1" data-toggle="modal" data-target="#edit-u"><i id="2dis" class="fa fa-edit edit-button" aria-hidden="true"/></a>'
      ].join('')
    }

    window.operateEvents = {
      'click #status-changer': function (e, value, row, index) {
        alert('Testing, just testing, row: ' + JSON.stringify(row))
      },
      'click #btn-edit': function (e, value, row, index) {
        console.log(e, value, row, index)
          // field: 'id',
          // values: [row.id]
        }
      }

    // function totalTextFormatter(data) {
    //   return 'Total'
    // }

    // function totalNameFormatter(data) {
    //   return data.length
    // }

    // function totalPriceFormatter(data) {
    //   var total = 0
    //   $.each(data, function (i, row) {
    //     total += +(row.price.substring(1))
    //   })
    //   return '$' + total
    // }

    function getHeight() {
      return $(window).height() - $('h1').outerHeight(true)
    }

    $(function () {
      var scripts = [
          location.search.substring(1) || './js/vendor/bootstrap-table/1.11.1/bootstrap-table.js',
          './js/vendor/bootstrap-table/1.11.1/extensions/export/bootstrap-table-export.min.js',
          './js/vendor/bootstrap-table/1.11.1/extensions/editable/bootstrap-table-editable.min.js'
        ],
        eachSeries = function (arr, iterator, callback) {
          callback = callback || function () {}
          if (!arr.length) {
            return callback()
          }
          var completed = 0
          var iterate = function () {
            iterator(arr[completed], function (err) {
              if (err) {
                callback(err)
                callback = function () {}
              } else {
                completed += 1
                if (completed >= arr.length) {
                  callback(null)
                } else {
                  iterate()
                }
              }
            })
          }
          iterate()
        }

      eachSeries(scripts, getScript, initTable)
    })

    function getScript(url, callback) {
      var head = document.getElementsByTagName('head')[0]
      var script = document.createElement('script')
      script.src = url

      var done = false
      // Attach handlers for all browsers
      script.onload = script.onreadystatechange = function () {
        if (!done && (!this.readyState ||
            this.readyState == 'loaded' || this.readyState == 'complete')) {
          done = true
          if (callback)
            callback()

          // Handle memory leak in IE
          script.onload = script.onreadystatechange = null
        }
      }

      head.appendChild(script)

      // We handle everything using the script element injection
      return undefined
    }

  </script>
</body>

</html>
